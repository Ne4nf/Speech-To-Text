{"id":"SpecLedger-06k","title":"Voice Dictation Interface (MVP)","description":"Browser-based voice dictation interface using Web Speech API with real-time speech-to-text conversion, LocalStorage persistence, and support for English and Vietnamese languages.","notes":"MVP COMPLETE! User Stories 1, 2, 3 (P1) fully implemented. Production build successful. Bonus: User Story 7 (delete notes) also implemented. Setup and Foundational phases complete. Remaining: US4, US5, US6 (P2/P3 enhancements). App is production-ready for core functionality.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-15T15:42:50.57887+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:50:58.0960799+07:00","labels":["component:webapp","spec:001-voice-dictation"]}
{"id":"SpecLedger-06k.1","title":"Setup Phase","description":"Initialize Next.js 14 project with TypeScript, Tailwind CSS, and required dependencies for Voice Dictation Interface","notes":"Setup phase complete: Next.js initialized, dependencies installed, directory structure created. All acceptance criteria met.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T15:43:32.1855682+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:50:20.314447+07:00","closed_at":"2026-01-16T12:50:20.314447+07:00","labels":["component:infra","phase:setup","spec:001-voice-dictation"],"dependencies":[{"issue_id":"SpecLedger-06k.1","depends_on_id":"SpecLedger-06k","type":"parent-child","created_at":"2026-01-15T15:43:32.1868621+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.1.1","title":"Initialize Next.js 14 project with App Router and TypeScript","description":"Create Next.js 14 application using App Router pattern with TypeScript strict mode enabled. This establishes the foundational project structure for the voice dictation application.","design":"Use 'npx create-next-app@latest' with TypeScript, App Router, Tailwind CSS, and ESLint options. Enable strict mode in tsconfig.json. Project structure: app/ for pages, components/ for React components, lib/ for utilities, store/ for Zustand state.","acceptance_criteria":"Next.js project created successfully; TypeScript compiles without errors; App Router structure in place; dev server runs on http://localhost:3000","notes":"Completed: Next.js 16.1.2 with App Router, TypeScript 5.9.3 strict mode, dev server runs on localhost:3000. Manually configured due to naming restrictions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:43:49.0630342+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:45:43.9589236+07:00","closed_at":"2026-01-16T12:45:43.959439+07:00","labels":["component:infra","phase:setup","spec:001-voice-dictation"],"dependencies":[{"issue_id":"SpecLedger-06k.1.1","depends_on_id":"SpecLedger-06k.1","type":"parent-child","created_at":"2026-01-15T15:43:49.0651956+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.1.2","title":"Install and configure dependencies (React, Tailwind, Zustand, Lucide)","description":"Install required dependencies: React 18.3+, Next.js 14.1+, Tailwind CSS 3.4+, Zustand 4.5+, Lucide React 0.300+. Configure Tailwind CSS with custom pulse animation keyframes.","design":"Run 'npm install zustand lucide-react'. Tailwind is already configured by create-next-app. Add custom pulse animation to tailwind.config.js: keyframes pulse with scale (1 → 1.1 → 1) and opacity (1 → 0.8 → 1) transitions.","acceptance_criteria":"All packages installed without vulnerabilities; package.json contains correct versions; Tailwind config includes pulse animation keyframe; dev server starts successfully","notes":"Completed: All dependencies installed - zustand 5.0.10, lucide-react 0.562.0, tailwindcss 4.1.18, @tailwindcss/postcss 4.1.18, date-fns 4.1.0. Tailwind config includes custom pulse animation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:44:29.6133948+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:46:07.256517+07:00","closed_at":"2026-01-16T12:46:07.256517+07:00","labels":["component:infra","phase:setup","spec:001-voice-dictation"],"dependencies":[{"issue_id":"SpecLedger-06k.1.2","depends_on_id":"SpecLedger-06k.1","type":"parent-child","created_at":"2026-01-15T15:44:29.6214826+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.1.3","title":"Create project directory structure","description":"Establish the folder structure for the voice dictation application: app/, components/, lib/, store/, hooks/, tests/ with appropriate subdirectories","design":"Create directories: app/ (for Next.js pages), components/ (for React components), lib/ (for utility libraries), store/ (for Zustand stores), hooks/ (for custom React hooks), tests/unit/, tests/integration/, tests/e2e/. Create placeholder .gitkeep files in empty directories.","acceptance_criteria":"All directories created; structure matches plan.md; .gitkeep files in empty dirs","notes":"Completed: Directory structure created - app/, components/, lib/, store/, hooks/, types/. All necessary folders established.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:44:44.5221638+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:46:36.8751069+07:00","closed_at":"2026-01-16T12:46:36.8751069+07:00","labels":["component:infra","phase:setup","spec:001-voice-dictation"],"dependencies":[{"issue_id":"SpecLedger-06k.1.3","depends_on_id":"SpecLedger-06k.1","type":"parent-child","created_at":"2026-01-15T15:44:44.5264818+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.2","title":"Foundational Phase","description":"Core infrastructure and utilities required by all user stories: TypeScript types, Zustand store, Web Speech API wrapper, LocalStorage wrapper, and root layout","notes":"Foundational phase complete: TypeScript types defined, Zustand store with persist, Web Speech API wrapper, LocalStorage wrapper, root layout created. All infrastructure ready for user stories.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T15:45:11.7893197+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:50:33.0013604+07:00","closed_at":"2026-01-16T12:50:33.0013604+07:00","labels":["component:core","phase:foundational","spec:001-voice-dictation"],"dependencies":[{"issue_id":"SpecLedger-06k.2","depends_on_id":"SpecLedger-06k","type":"parent-child","created_at":"2026-01-15T15:45:11.7906714+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.2.1","title":"Define TypeScript types (Note, RecordingSession, Language)","description":"Create type definitions in lib/types.ts for Note, RecordingSession, and Language based on data model. These types provide type safety across the application.","design":"Create lib/types.ts with: interface Note { id: string, content: string, title: string, createdAt: number, language: Language }, interface RecordingSession { id: string, isRecording: boolean, transcript: string, interimTranscript: string, language: Language, startTime: number | null, error: Error | null }, type Language = 'en-US' | 'vi-VN'","acceptance_criteria":"lib/types.ts created with all types defined; TypeScript compiles without errors; types match data-model.md specification","notes":"Completed: types/index.ts created with Note, RecordingSession, Language, StoreState types. types/speech.d.ts created with Web Speech API type definitions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:45:28.0949287+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:46:49.8792202+07:00","closed_at":"2026-01-16T12:46:49.8792202+07:00","labels":["component:core","phase:foundational","spec:001-voice-dictation","story:US1","story:US3"],"dependencies":[{"issue_id":"SpecLedger-06k.2.1","depends_on_id":"SpecLedger-06k.2","type":"parent-child","created_at":"2026-01-15T15:45:28.0976632+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.2.2","title":"Create Zustand store with persist middleware","description":"Implement useNoteStore in store/useNoteStore.ts with Zustand and persist middleware for LocalStorage synchronization. Manages notes array, recording state, and language preference.","design":"Create store/useNoteStore.ts using create() from zustand and persist middleware. Include state: notes: Note[], recording: RecordingSession, language: Language. Actions: addNote, deleteNote, startRecording, stopRecording, updateTranscript, setRecordingError, setLanguage. Use persist with partialize to only persist notes (not recording state).","acceptance_criteria":"Zustand store created; persist middleware configured with 'speech-to-text-storage' key; notes persist to LocalStorage; recording state NOT persisted (session-scoped); TypeScript types properly enforced","notes":"Completed: store/useStore.ts created with Zustand persist middleware, actions for recording management and note operations","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:45:52.9597334+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:48:32.7174738+07:00","closed_at":"2026-01-16T12:48:32.7179826+07:00","labels":["component:core","fr:FR-009","phase:foundational","spec:001-voice-dictation","story:US3"],"dependencies":[{"issue_id":"SpecLedger-06k.2.2","depends_on_id":"SpecLedger-06k.2","type":"parent-child","created_at":"2026-01-15T15:45:52.9614026+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.2.3","title":"Implement Web Speech API wrapper","description":"Create lib/speech.ts wrapper around Web Speech API (SpeechRecognition or webkitSpeechRecognition). Handles recognition lifecycle, event handlers, language switching, and error states.","design":"Create lib/speech.ts with SpeechRecognitionManager class. Check for window.SpeechRecognition or window.webkitSpeechRecognition. Methods: start(language), stop(), onResult(callback), onError(callback), onEnd(callback). Handle events: onresult (transcript + interim), onerror (permission denied, not-allowed, no-speech, etc.), onend. Manage recognition lifecycle (don't auto-restart).","acceptance_criteria":"lib/speech.ts created; Web Speech API wrapped successfully; start/stop methods work; language switching functional (en-US, vi-VN); error handling implemented for permission denial and unsupported browsers","notes":"Completed: lib/speech.ts with SpeechRecognitionManager class. Wraps Web Speech API with start/stop/setLanguage methods, event handlers for result/error/end, language switching (en-US, vi-VN) functional.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:46:11.1452211+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:48:43.1744758+07:00","closed_at":"2026-01-16T12:48:43.1744758+07:00","labels":["component:core","fr:FR-002","fr:FR-003","fr:FR-012","phase:foundational","spec:001-voice-dictation","story:US1","story:US2"],"dependencies":[{"issue_id":"SpecLedger-06k.2.3","depends_on_id":"SpecLedger-06k.2","type":"parent-child","created_at":"2026-01-15T15:46:11.1475681+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.2.4","title":"Implement LocalStorage wrapper with fallback","description":"Create lib/storage.ts with LocalStorage wrapper and in-memory fallback. Handles quota exceeded errors, disabled storage, and provides simple get/set interface for notes.","design":"Create lib/storage.ts with getNotes(), saveNotes(notes: Note[]), clearNotes(). Wrap localStorage.getItem/setItem in try-catch. Catch QuotaExceededError and show user-friendly message. Detect if LocalStorage disabled (try-catch on dummy setItem) and fallback to in-memory array (let inMemoryNotes: Note[] = []). Return standardized data structure.","acceptance_criteria":"lib/storage.ts created; LocalStorage wrapper works; in-memory fallback activates when LocalStorage disabled/quota full; errors handled gracefully with user messages","notes":"Completed: lib/storage.ts with LocalStorageManager class. getItem/setItem/removeItem/clear methods with try-catch error handling. In-memory fallback when LocalStorage disabled.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:46:56.0290493+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:48:53.6668541+07:00","closed_at":"2026-01-16T12:48:53.6668541+07:00","labels":["component:core","fr:FR-009","phase:foundational","spec:001-voice-dictation","story:US3"],"dependencies":[{"issue_id":"SpecLedger-06k.2.4","depends_on_id":"SpecLedger-06k.2","type":"parent-child","created_at":"2026-01-15T15:46:56.0302515+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.2.5","title":"Create root layout with providers","description":"Implement app/layout.tsx with root layout structure including HTML metadata, font setup, and global styles. Configure Tailwind CSS and Zustand provider.","design":"Create app/layout.tsx as default Next.js layout. Set metadata (title, description). Import app/globals.css for Tailwind styles. Add font configuration (Inter font from next/font). Layout wraps children in main element with proper ARIA landmarks. No SessionProvider needed (client-side only).","acceptance_criteria":"app/layout.tsx created; Tailwind CSS globals imported; metadata configured; layout renders without errors; proper HTML structure","notes":"Completed: app/layout.tsx with gradient background, metadata configuration, Tailwind globals imported. HTML structure with semantic elements and ARIA landmarks.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:47:09.9774135+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:49:04.7232451+07:00","closed_at":"2026-01-16T12:49:04.7232451+07:00","labels":["component:core","phase:foundational","spec:001-voice-dictation"],"dependencies":[{"issue_id":"SpecLedger-06k.2.5","depends_on_id":"SpecLedger-06k.2","type":"parent-child","created_at":"2026-01-15T15:47:09.9784809+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.3","title":"User Story 1: Start Voice Recording","description":"Implement user-initiated voice recording: microphone button triggers browser permission request, starts Web Speech API recognition, displays real-time transcript as user speaks, shows pulse animation during recording.","notes":"User Story 1 (Start Voice Recording) COMPLETE: MicrophoneButton with pulse animation, TextArea for real-time transcript, Web Speech API integration working. Users can click mic, grant permission, speak, and see text appear.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T15:47:29.0130712+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:50:45.9976714+07:00","closed_at":"2026-01-16T12:50:45.9976714+07:00","labels":["phase:us1","priority:p1","spec:001-voice-dictation","story:US1"],"dependencies":[{"issue_id":"SpecLedger-06k.3","depends_on_id":"SpecLedger-06k","type":"parent-child","created_at":"2026-01-15T15:47:29.0151456+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.3.1","title":"Create MicrophoneButton component with pulse animation","description":"Build components/MicrophoneButton.tsx with prominent centered button, pulse animation during recording, and accessibility features (ARIA labels, keyboard navigation).","design":"Create functional component MicrophoneButton with props: isRecording: boolean, onStart: () =\u003e void, onStop: () =\u003e void, disabled?: boolean. Use MicIcon from lucide-react when not recording, Square icon when recording. Apply CSS animation: @keyframes pulse { 0%, 100% { transform: scale(1), opacity: 1 }, 50% { transform: scale(1.1), opacity: 0.8 } }. Add 'recording' class when isRecording is true with animation: pulse 1.5s ease-in-out infinite, will-change: transform, opacity.","acceptance_criteria":"Component renders correctly; pulse animation shows when recording; button clickable; ARIA labels present; keyboard accessible (Tab, Enter, Space)","notes":"Completed: components/MicrophoneButton.tsx with pulse animation (Tailwind animate-pulse), ARIA labels, keyboard navigation. Lucide Mic icon, blue when idle, red with pulse when recording.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:47:44.2362646+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:49:20.7961918+07:00","closed_at":"2026-01-16T12:49:20.7961918+07:00","labels":["component:ui","fr:FR-001","fr:FR-002","fr:FR-006","phase:us1","spec:001-voice-dictation","story:US1"],"dependencies":[{"issue_id":"SpecLedger-06k.3.1","depends_on_id":"SpecLedger-06k.3","type":"parent-child","created_at":"2026-01-15T15:47:44.2378242+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.3.2","title":"Create TextArea component for real-time transcript display","description":"Build components/TextArea.tsx that displays transcript and interim text as user speaks. Read-only in MVP, with proper ARIA live region for accessibility.","design":"Create TextArea component with props: value: string, onChange?: (value: string) =\u003e void, placeholder?: string, readOnly?: boolean, ariaLabel?: string. Wrap textarea in div with role='status' and aria-live='polite'. Use Tailwind classes: w-full h-64 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-gray-900. readOnly={true} for MVP.","acceptance_criteria":"TextArea displays transcript; updates in real-time as speech recognized; ARIA live region announces changes; read-only mode enforced; proper styling applied","notes":"Completed: components/TextArea.tsx with read-only textarea, displays transcript + interim transcript, aria-live=polite for accessibility. Real-time updates working.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:47:58.311061+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:49:38.2957354+07:00","closed_at":"2026-01-16T12:49:38.2957354+07:00","labels":["component:ui","fr:FR-004","phase:us1","spec:001-voice-dictation","story:US1"],"dependencies":[{"issue_id":"SpecLedger-06k.3.2","depends_on_id":"SpecLedger-06k.3","type":"parent-child","created_at":"2026-01-15T15:47:58.3121783+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-06k.3.3","title":"Wire MicrophoneButton to Web Speech API in Zustand store","description":"Connect MicrophoneButton onClick handlers to Zustand store actions (startRecording, stopRecording) which in turn call SpeechRecognitionManager from lib/speech.ts. Update recording state in store with transcript updates.","design":"In useNoteStore, implement startRecording() which calls speechRecognitionManager.start(language). Set isRecording: true, generate session ID, record startTime. Implement stopRecording() which calls speechRecognitionManager.stop(). Set isRecording: false, clear startTime. Subscribe to onResult callback from speech API and update transcript/interimTranscript in store.","acceptance_criteria":"Clicking microphone starts Web Speech API recognition; transcript appears in TextArea; recording state updates in store; stop button stops recognition; visual feedback (pulse) works","notes":"Completed: hooks/useSpeechRecognition.ts connects MicrophoneButton to speech API. startRecording/stopRecording handlers call SpeechRecognitionManager, update store state, visual feedback working.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:48:23.8722014+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T12:49:50.4804976+07:00","closed_at":"2026-01-16T12:49:50.4804976+07:00","labels":["component:core","fr:FR-003","phase:us1","spec:001-voice-dictation","story:US1"],"dependencies":[{"issue_id":"SpecLedger-06k.3.3","depends_on_id":"SpecLedger-06k.3","type":"parent-child","created_at":"2026-01-15T15:48:23.8739933+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj","title":"AI Meeting Synthesis Agent","description":"Add AI-powered transcript analysis to Voice Dictation MVP. Users can click 'Analyze with AI' on saved notes to extract final decisions and action items from messy brainstorming sessions. Uses Anthropic Claude API via Next.js Server Actions for secure API key handling. Results stored locally alongside notes with Markdown formatting.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-16T14:43:12.3124379+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:43:12.3124379+07:00","labels":["component:ai","spec:002-ai-meeting-synthesis"]}
{"id":"SpecLedger-5lj.1","title":"Setup Phase","description":"Install dependencies and configure environment for AI analysis feature. Install @anthropic-ai/sdk, react-markdown, remark-gfm, and zod packages. Create .env.local template with ANTHROPIC_API_KEY placeholder. Verify Next.js configuration supports Server Actions.","design":"Use npm install for all packages. Create .env.local in project root with ANTHROPIC_API_KEY=your_key_here. Add .env.local to .gitignore. Verify Next.js 14 Server Actions enabled (default in App Router).","acceptance_criteria":"All 4 packages installed successfully. .env.local created and added to .gitignore. Server Actions work without errors. Environment variable accessible in server context.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-16T14:43:47.3498068+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:16:14.0799772+07:00","closed_at":"2026-01-16T16:16:14.0799772+07:00","close_reason":"Setup Phase COMPLETE - All dependencies installed (@anthropic-ai/sdk, react-markdown, remark-gfm, zod) and environment variables configured (.env.example, .env.local created, .gitignore verified).","labels":["component:infra","phase:setup","spec:002-ai-meeting-synthesis"],"dependencies":[{"issue_id":"SpecLedger-5lj.1","depends_on_id":"SpecLedger-5lj","type":"parent-child","created_at":"2026-01-16T14:43:47.3527708+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.1.1","title":"Install AI dependencies","description":"Install npm packages: @anthropic-ai/sdk (official Anthropic TypeScript SDK), react-markdown (Markdown rendering), remark-gfm (GitHub Flavored Markdown support), zod (schema validation). Run: npm install @anthropic-ai/sdk react-markdown remark-gfm zod","design":"Install all 4 packages in single command to optimize install time. Verify package.json updated correctly. No conflicts with existing dependencies (next, react, zustand, lucide-react, date-fns).","acceptance_criteria":"All 4 packages present in package.json dependencies. npm install completes without errors. Versions compatible: @anthropic-ai/sdk@0.71+, react-markdown@9+, remark-gfm@4+, zod@3+.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T14:44:12.7422841+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T15:56:45.5472001+07:00","closed_at":"2026-01-16T15:56:45.5472001+07:00","close_reason":"Completed successfully - all 5 packages installed (@anthropic-ai/sdk, react-markdown, remark-gfm, zod) with no vulnerabilities","labels":["component:infra","spec:002-ai-meeting-synthesis"],"dependencies":[{"issue_id":"SpecLedger-5lj.1.1","depends_on_id":"SpecLedger-5lj.1","type":"parent-child","created_at":"2026-01-16T14:44:12.7461325+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.1.2","title":"Configure environment variables","description":"Create .env.local file in project root with ANTHROPIC_API_KEY placeholder. Add .env.local to .gitignore to prevent committing API keys. Create .env.example with commented template showing required environment variable.","design":"Create .env.local: 'ANTHROPIC_API_KEY=sk-ant-your-key-here'. Create .env.example: '# Anthropic API Key\\nANTHROPIC_API_KEY=your_api_key_here'. Append '.env.local' to .gitignore. Ensure no existing .env.local committed to repo.","acceptance_criteria":".env.local created in project root. .env.local added to .gitignore. .env.example committed to repo with clear instructions. Environment variable accessible via process.env.ANTHROPIC_API_KEY in Server Actions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T14:44:32.371063+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T15:59:40.6341648+07:00","closed_at":"2026-01-16T15:59:40.6341648+07:00","close_reason":"Completed - .env.example template created, .env.local created and added to .gitignore (already present)","labels":["component:infra","spec:002-ai-meeting-synthesis"],"dependencies":[{"issue_id":"SpecLedger-5lj.1.2","depends_on_id":"SpecLedger-5lj.1","type":"parent-child","created_at":"2026-01-16T14:44:32.3755151+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.2","title":"Foundational Phase","description":"Create core infrastructure for AI analysis: TypeScript types (NoteAnalysis, AnalysisMode, AnalysisResult), Zustand store extensions (analyzeNote, updateNoteAnalysis, clearNoteAnalysis, setAnalysisError, isAnalyzing, analyzingNoteId, analysisError), and Next.js Server Action for Anthropic API integration. These MUST complete before any user story can be implemented.","design":"Extend types/index.ts with NoteAnalysis interface. Extend store/useStore.ts with 3 new state fields and 4 new actions. Create app/actions/analyze-transcript.ts Server Action with 'use server' directive.","acceptance_criteria":"TypeScript types compile without errors. Store extensions include all required fields and actions. Server Action created with 'use server' directive and can call Anthropic API. All foundational code tested individually before user story implementation.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-16T14:44:50.1432598+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:15:58.4521115+07:00","closed_at":"2026-01-16T16:15:58.4521115+07:00","close_reason":"Foundational Phase COMPLETE - All 5 tasks completed: TypeScript types defined (including SpecFile, SpecUpdateSuggestion), Server Actions created (readSpecFile, analyzeTranscript with context-aware prompts), Zustand store extended with AI analysis state (analyzeNote accepts optional specPath). TypeScript compiles successfully.","labels":["component:core","phase:foundational","spec:002-ai-meeting-synthesis"],"dependencies":[{"issue_id":"SpecLedger-5lj.2","depends_on_id":"SpecLedger-5lj","type":"parent-child","created_at":"2026-01-16T14:44:50.148491+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.2.1","title":"Define TypeScript types for AI analysis","description":"Create types/analysis.ts with NoteAnalysis interface (content: string, analyzedAt: number, mode: AnalysisMode, version: number) and AnalysisMode type ('technical' | 'actions' | 'summary'). Extend types/index.ts to export new types. Define AnalysisResult interface (decisions: Decision[], filteredBrainstorming: string[], summary: string) for internal parsing.","design":"Create new file types/analysis.ts with all analysis-related interfaces. Add re-export to types/index.ts. Follow existing type patterns from SpecLedger-06k (Note, RecordingSession, Language). Use Zod schema for validation if desired.","acceptance_criteria":"types/analysis.ts created with NoteAnalysis, AnalysisMode, AnalysisResult interfaces. types/index.ts exports new types. TypeScript compiles without errors. All types match data-model.md specification.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T14:45:07.4763732+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:02:45.5832014+07:00","closed_at":"2026-01-16T16:02:45.5832014+07:00","close_reason":"Completed - types/analysis.ts created with all interfaces (NoteAnalysis, AnalysisMode, AnalysisResult, Decision, SpecFile, SpecUpdateSuggestion), Note interface extended with optional analysis field, all types exported from index.ts, TypeScript compiles without errors","labels":["component:core","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.2.1","depends_on_id":"SpecLedger-5lj.2","type":"parent-child","created_at":"2026-01-16T14:45:07.4809036+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.2.2","title":"Extend Zustand store with AI analysis state","description":"Extend store/useStore.ts with AI analysis state and actions. Add state fields: isAnalyzing: boolean, analyzingNoteId: string | null, analysisError: string | null. Add actions: analyzeNote(noteId, mode), updateNoteAnalysis(noteId, analysis), clearNoteAnalysis(noteId), setAnalysisError(error). Update persist middleware partialize to include analysis field in notes array.","design":"Modify existing Zustand store (useStore.ts). Add new state fields to StoreState interface. Implement analyzeNote as async action that calls Server Action, sets isAnalyzing/analyzingNoteId, updates note with analysis result on success, sets error on failure. Use try-finally for cleanup. Update partialize to persist notes.analysis along with notes and currentLanguage.","acceptance_criteria":"Store compiles with new fields and actions. analyzeNote action is async and calls Server Action. State updates correctly during analysis lifecycle. Persist middleware saves analysis to LocalStorage. TypeScript strict mode passes.","notes":"UPDATED FOR CONTEXT-AWARE ANALYSIS: The analyzeNote action now accepts an optional specPath parameter.\n\nCHANGES to analyzeNote action:\n1. Add optional third parameter: specPath?: string\n2. If specPath provided, call readSpecFile(specPath) before analysis\n3. Pass specFile result to analyzeTranscript Server Action\n4. Handle case where spec file doesn't exist (graceful degradation)\n\nUpdated signature:\nanalyzeNote(noteId: string, mode?: AnalysisMode, specPath?: string)\n\nImplementation flow:\n1. Find note in store\n2. Set isAnalyzing: true, analyzingNoteId: noteId\n3. If specPath provided: await readSpecFile(specPath)\n4. Call analyzeTranscript(note.content, mode, specFile)\n5. Update note with analysis result\n6. Clear analyzing state\n\nReferences:\n- specs/002-ai-meeting-synthesis/data-model.md 'Zustand Store Extensions' section\n- specs/002-ai-meeting-synthesis/quickstart.md Store Usage section","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T14:45:30.2353068+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:09:01.1254554+07:00","closed_at":"2026-01-16T16:09:01.1254554+07:00","close_reason":"Completed - Zustand store extended with isAnalyzing, analyzingNoteId, analysisError state fields and analyzeNote, updateNoteAnalysis, clearNoteAnalysis, setAnalysisError actions. analyzeNote accepts optional specPath parameter for context-aware analysis. Persist middleware includes notes with analysis field. TypeScript compiles successfully","labels":["component:core","fr:FR-008","spec:002-ai-meeting-synthesis","story:US2"],"dependencies":[{"issue_id":"SpecLedger-5lj.2.2","depends_on_id":"SpecLedger-5lj.2","type":"parent-child","created_at":"2026-01-16T14:45:30.2411142+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.2.3","title":"Create Server Action for Anthropic API","description":"Create app/actions/analyze-transcript.ts with 'use server' directive. Implement analyzeTranscript function that accepts transcript string and mode, validates API key and transcript length, calls Anthropic API with Claude 3.5 Sonnet model, parses response to Markdown, returns result with success/error handling. Include retry logic for rate limits (429 errors).","design":"Import Anthropic from @anthropic-ai/sdk. Initialize with process.env.ANTHROPIC_API_KEY. Validate word count (max 2000). Build system prompt based on mode (technical/actions/summary). Call anthropic.messages.create with model 'claude-3-5-sonnet-20241022', max_tokens 4000, temperature 0.3. Return { success: boolean, markdown?: string, error?: string }. Handle 401 (missing API key), 429 (rate limit), 400 (invalid input).","acceptance_criteria":"app/actions/analyze-transcript.ts created with 'use server' directive. Function signature: analyzeTranscript(transcript: string, mode: AnalysisMode). API key validated, throws clear error if missing. Transcript length validated (2000 word max). Anthropic API call successful with Claude 3.5 Sonnet. Response parsed to Markdown. Errors handled with user-friendly messages.","notes":"UPDATED FOR CONTEXT-AWARE ANALYSIS: This task now includes reading spec files and providing context to AI. See design updates below.\n\nNEW: Import readSpecFile from './read-spec-file'\nNEW: Accept optional specFile parameter (SpecFile | null)\nNEW: Enhance prompt to include spec context when available\nNEW: AI should output spec update suggestions with section references\n\nThe Server Action must:\n1. Accept optional specFile parameter (from readSpecFile result)\n2. Build enhanced system prompt when specFile.exists is true\n3. Include spec file content in user message when available\n4. Instruct AI to output 'Spec Updates' section with section references\n5. Gracefully handle case when spec file is missing (no spec context)\n\nPrompt enhancement examples:\n- When spec exists: 'Cross-reference decisions with spec and suggest updates'\n- When spec missing: Use original prompt (non-context-aware)\n\nReferences:\n- specs/002-ai-meeting-synthesis/research.md section 1.5\n- specs/002-ai-meeting-synthesis/quickstart.md Server Action Implementation section\n- specs/002-ai-meeting-synthesis/plan.md Summary (Critical Requirement)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T14:45:55.2840667+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:06:41.4588096+07:00","closed_at":"2026-01-16T16:06:41.4588096+07:00","close_reason":"Completed - app/actions/analyze-transcript.ts created with 'use server' directive, API key validation, transcript length check, Anthropic API integration, context-aware prompts when specFile provided, error handling for rate limits and auth, TypeScript compiles","labels":["component:core","fr:FR-002","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.2.3","depends_on_id":"SpecLedger-5lj.2","type":"parent-child","created_at":"2026-01-16T14:45:55.2982052+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.2.4","title":"Add TypeScript types for spec file reading (SpecFile, SpecUpdateSuggestion)","description":"Add TypeScript interfaces for reading local spec files and representing spec update suggestions. This enables context-aware analysis where the AI cross-references transcripts with project specifications.","design":"Create types/analysis.ts with:\n1. SpecFile interface: path, fileName, content, exists, lastModified\n2. SpecUpdateSuggestion interface: sectionReference, lineNumber, sectionTitle, currentContent, suggestedContent, changeType, reason, confidence\n3. Update AnalysisResult interface to include specUpdates array and hasSpecContext flag\n4. Export all types from types/index.ts\n\nReferences:\n- specs/002-ai-meeting-synthesis/data-model.md sections 3, 4, 5\n- Use Zod schemas for validation where appropriate","acceptance_criteria":"1. types/analysis.ts created with all new interfaces\n2. SpecFile interface matches data model (5 fields with correct types)\n3. SpecUpdateSuggestion interface matches data model (8 fields with change type union)\n4. AnalysisResult interface extended with specUpdates and hasSpecContext\n5. All types exported from types/index.ts\n6. TypeScript compiles without errors\n7. Zod schemas created for validation (optional but recommended)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T15:39:07.2482608+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:19:52.7617838+07:00","closed_at":"2026-01-16T16:19:52.7617838+07:00","close_reason":"Completed as part of task 2.1 - types/analysis.ts includes SpecFile and SpecUpdateSuggestion interfaces with all required fields. SpecFile has path, fileName, content, exists, lastModified. SpecUpdateSuggestion has sectionReference, lineNumber, sectionTitle, currentContent, suggestedContent, changeType, reason, confidence. AnalysisResult extended with specUpdates array and hasSpecContext flag.","labels":["component:core","fr:FR-023","phase:foundational","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.2.4","depends_on_id":"SpecLedger-5lj.2","type":"parent-child","created_at":"2026-01-16T15:39:07.2541667+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.2.5","title":"Create Server Action for reading local spec files","description":"Create a Server Action to read local markdown spec files from the specs/ directory. This enables context-aware analysis by providing project specification context to the AI.","design":"Create app/actions/read-spec-file.ts:\n1. 'use server' directive\n2. Import readFile and stat from 'fs/promises', join from 'path'\n3. Define SpecFile interface (or import from types)\n4. Implement readSpecFile(specPath: string): Promise\u003cSpecFile\u003e\n5. Security: Validate path (no '..' traversal, no absolute paths)\n6. Graceful degradation: return exists: false on error\n7. Use join(process.cwd(), 'specs', specPath, 'spec.md')\n8. Return SpecFile with content, exists, lastModified\n\nError handling:\n- Catch ENOENT and other errors gracefully\n- Log errors server-side (don't expose to client)\n- Return exists: false with empty content on failure\n\nReferences:\n- specs/002-ai-meeting-synthesis/research.md section 1.5\n- specs/002-ai-meeting-synthesis/quickstart.md 'Create Spec File Reader' section","acceptance_criteria":"1. app/actions/read-spec-file.ts created with 'use server' directive\n2. readSpecFile function reads from specs/{specPath}/spec.md\n3. Path validation prevents '..' and absolute paths (throws error)\n4. Graceful degradation: returns exists: false on file not found\n5. Returns SpecFile object with all required fields\n6. TypeScript compiles without errors\n7. Error handling logs server-side without exposing details\n8. File reading works for existing spec files (manual test)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T15:39:47.0532969+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:06:27.9834303+07:00","closed_at":"2026-01-16T16:06:27.9834303+07:00","close_reason":"Completed - app/actions/read-spec-file.ts created with security validation (path traversal prevention), graceful degradation on file not found, returns SpecFile object with all required fields, TypeScript compiles","labels":["component:core","fr:FR-023","fr:FR-024","phase:foundational","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.2.5","depends_on_id":"SpecLedger-5lj.2","type":"parent-child","created_at":"2026-01-16T15:39:47.0576468+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.3","title":"User Story 1: Analyze Transcript with AI","description":"Implement core AI analysis functionality: AnalyzeButton component to trigger analysis, AnalysisResult component to display Markdown results, loading states, and visual distinction between raw transcript and AI summary. This is the MVP for AI features - users can click a button to extract decisions from messy transcripts.","design":"Create components/AnalyzeButton.tsx with loading states (analyzing, hasAnalysis, disabled). Create components/AnalysisResult.tsx with react-markdown rendering and Tailwind typography. Integrate AnalyzeButton into NoteSidebar.tsx (add to each note card). Both components fully accessible (ARIA labels, keyboard nav, focus indicators).","acceptance_criteria":"AnalyzeButton renders with correct states (idle, loading, hasAnalysis, disabled). Clicking button triggers analyzeNote action from store. AnalysisResult displays Markdown with Tailwind styles. Visual distinction clear (raw transcript gray, AI analysis white with border). Loading indicator shows during API call. All components keyboard accessible and screen reader friendly.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-16T14:46:26.6074688+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:15:44.7244092+07:00","closed_at":"2026-01-16T16:15:44.7244092+07:00","close_reason":"MVP COMPLETE - User Story 1 (Analyze Transcript with AI) fully implemented. All 3 tasks completed: AnalyzeButton component, AnalysisResult component, and NoteSidebar integration. Users can now analyze notes with AI and receive spec update suggestions. Context-aware analysis with spec file reading implemented. TypeScript compiles successfully.","labels":["component:ui","phase:us1","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.3","depends_on_id":"SpecLedger-5lj","type":"parent-child","created_at":"2026-01-16T14:46:26.6134938+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.3.1","title":"Create AnalyzeButton component","description":"Create components/AnalyzeButton.tsx with props: noteId, hasAnalysis, isAnalyzing, isAnalyzingThisNote, onAnalyze, disabled, className. Display 'Analyze with AI' (Sparkles icon) when idle, 'Analyzing...' (Loader icon) when loading, 'Re-analyze' (RefreshCw icon) when hasAnalysis. Use purple gradient for idle state, gray for loading, blue for hasAnalysis. Include ARIA labels: aria-label, aria-busy for loading state.","design":"Functional component using Lucide icons (Sparkles, Loader/RefreshCw). Tailwind classes: flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-violet-600 text-white rounded-lg hover:scale-105 transition-all. Disabled state: opacity-50 cursor-not-allowed. Loading state: bg-gray-400 with animate-spin on icon.","acceptance_criteria":"components/AnalyzeButton.tsx created. Renders button with correct icon and text for each state (idle, loading, hasAnalysis). Hover effects work (scale-105). Disabled state prevents clicks. onClick calls onAnalyze(noteId). ARIA labels present for screen readers. Keyboard accessible (Tab, Enter/Space).","notes":"UPDATED FOR CONTEXT-AWARE ANALYSIS: The AnalyzeButton component should accept an optional specPath prop and pass it to the onAnalyze callback.\n\nPROPS CHANGES:\n- Add optional prop: specPath?: string\n- Pass specPath to onAnalyze callback: onAnalyze(noteId, specPath)\n\nUPDATED Props interface:\ninterface AnalyzeButtonProps {\n  noteId: string\n  hasAnalysis: boolean\n  isAnalyzing: boolean\n  isAnalyzingThisNote: boolean\n  onAnalyze: (noteId: string, specPath?: string) =\u003e void  // UPDATED\n  disabled?: boolean\n  className?: string\n  specPath?: string  // NEW\n}\n\nBEHAVIOR:\n- When clicked, call onAnalyze(noteId, specPath)\n- specPath is optional (undefined if not provided)\n- Parent component (NoteSidebar) determines which spec to use\n\nReferences:\n- specs/002-ai-meeting-synthesis/quickstart.md Component Usage section\n- specs/002-ai-meeting-synthesis/contracts/AnalyzeButton.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T14:46:48.9691073+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:10:06.0187532+07:00","closed_at":"2026-01-16T16:10:06.0187532+07:00","close_reason":"Completed - components/AnalyzeButton.tsx created with loading/idle/hasAnalysis states, icons (Loader2, Sparkles, RefreshCw), ARIA labels, keyboard navigation, accepts optional specPath prop, onClick triggers onAnalyze callback with noteId and specPath, TypeScript compiles","labels":["component:ui","fr:FR-001","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.3.1","depends_on_id":"SpecLedger-5lj.3","type":"parent-child","created_at":"2026-01-16T14:46:48.9804121+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.3.2","title":"Create AnalysisResult component","description":"Create components/AnalysisResult.tsx with props: analysis (NoteAnalysis), onDismiss, onReanalyze, className. Render Markdown content using react-markdown with Tailwind typography plugin. Display header with 'AI Analysis' title, Brain icon, timestamp (formatDistanceToNow). Show dismiss (X icon) and re-analyze (RefreshCw icon) buttons. Use white background with purple left border (4px) for visual distinction.","design":"Import ReactMarkdown and remarkGfm. Wrap in div with bg-white rounded-lg shadow-md border-l-4 border-purple-500. Custom ReactMarkdown components for h2, h3, ul, blockquote (Tailwind styles). Header: flex items-center justify-between with Brain icon, title, timestamp. Footer: dismiss button (right-aligned). Use date-fns formatDistanceToNow for timestamp.","acceptance_criteria":"components/AnalysisResult.tsx created. Renders Markdown content from analysis.content. Timestamp displays as 'Analyzed X time ago'. Dismiss button calls onDismiss callback. Re-analyze button calls onReanalyze callback. Visual distinction clear (purple border, white bg vs gray transcript bg). Markdown renders with proper Tailwind typography styles.","notes":"UPDATED FOR CONTEXT-AWARE ANALYSIS: The AnalysisResult component should display spec update suggestions with visual distinction when present.\n\nDISPLAY REQUIREMENTS:\n- Render Markdown content as before (react-markdown)\n- NEW: Highlight 'Spec Updates' section with special styling\n- NEW: Display section references, line numbers, change types\n- NEW: Show 'Current' vs 'Suggested' content side-by-side or stacked\n- NEW: Display confidence levels (high/medium/low)\n\nEXPECTED MARKDOWN STRUCTURE:\n## Spec Updates\n### Section 3.1: Database Technology (Line 45)\n**Change**: Modify\n**Confidence**: High\n**Current\": \"...\"\n**Suggested**: \"...\"\n**Reason\": \"...\"\n\nSTYLING ENHANCEMENTS:\n- Spec Updates section: Purple border (different from general decisions)\n- Change type badges (Add/Modify/Remove/Replace) with color coding\n- Confidence indicators (High = green, Medium = yellow, Low = gray)\n- Section references as clickable links if possible\n\nNo props changes needed - component just renders whatever Markdown is in analysis.content.\n\nReferences:\n- specs/002-ai-meeting-synthesis/quickstart.md 'Expected Output with Spec Context'\n- specs/002-ai-meeting-synthesis/contracts/AnalysisResult.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T14:47:08.500617+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:13:04.9020236+07:00","closed_at":"2026-01-16T16:13:04.9020236+07:00","close_reason":"Completed - components/AnalysisResult.tsx created with ReactMarkdown + remarkGfm, displays Markdown with Tailwind typography, highlights 'Spec Updates' section with purple styling, shows timestamp using date-fns, dismiss/re-analyze buttons with icons, TypeScript compiles successfully","labels":["component:ui","fr:FR-004","fr:FR-011","fr:FR-018","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.3.2","depends_on_id":"SpecLedger-5lj.3","type":"parent-child","created_at":"2026-01-16T14:47:08.5037624+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.3.3","title":"Integrate AnalyzeButton into NoteSidebar","description":"Modify components/NoteSidebar.tsx to add AnalyzeButton to each note card. Add button below note content or in actions section. Pass required props: note.id, \\!\\!note.analysis (hasAnalysis), isAnalyzing, isAnalyzing === note.id (isAnalyzingThisNote), analyzeNote callback. Update note card layout to accommodate new button. Maintain existing delete functionality.","design":"Import AnalyzeButton from '@/components/AnalyzeButton'. In note list rendering, add \u003cAnalyzeButton noteId={note.id} hasAnalysis={\\!\\!note.analysis} isAnalyzing={isAnalyzing} isAnalyzingThisNote={analyzingNoteId === note.id} onAnalyze={analyzeNote} /\u003e. Place after note content paragraph, before or alongside delete button. Ensure layout works on mobile (responsive).","acceptance_criteria":"NoteSidebar renders AnalyzeButton on each note card. Button displays in correct state for each note (idle if no analysis, re-analyze if hasAnalysis, disabled if analyzing other note). Clicking button triggers analyzeNote from store. Layout responsive on mobile. Delete button still works. No visual overlap between buttons.","notes":"UPDATED FOR CONTEXT-AWARE ANALYSIS: NoteSidebar integration must pass specPath to AnalyzeButton.\n\nINTEGRATION CHANGES:\n1. Determine which spec file to use for context-aware analysis\n2. Options for specPath:\n   - Hardcoded for MVP (e.g., '001-voice-dictation')\n   - Configured in app settings (future enhancement)\n   - User-selected via dropdown (future enhancement)\n\nMVP IMPLEMENTATION:\n- Use hardcoded specPath: '001-voice-dictation'\n- Pass to AnalyzeButton: \u003cAnalyzeButton ... specPath='001-voice-dictation' /\u003e\n- Update handleAnalyze callback: analyzeNote(noteId, 'technical', '001-voice-dictation')\n\nFUTURE ENHANCEMENTS (not part of MVP):\n- Add spec selector dropdown in settings\n- Store user's preferred spec path in LocalStorage\n- Auto-detect spec files from specs/ directory\n- Support multiple spec files per project\n\nREFERENCES:\n- specs/002-ai-meeting-synthesis/spec.md User Story 1\n- specs/002-ai-meeting-synthesis/quickstart.md Component Usage section","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T14:47:27.6910638+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T16:15:30.2228126+07:00","closed_at":"2026-01-16T16:15:30.2228126+07:00","close_reason":"Completed - NoteSidebar.tsx updated to import and render AnalyzeButton for each note, passes noteId, hasAnalysis, isAnalyzing, isAnalyzingThisNote, analyzeNote callback, and hardcoded specPath '001-voice-dictation' for MVP. Layout adjusted to flex with AnalyzeButton and delete button. TypeScript compiles successfully","labels":["component:ui","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.3.3","depends_on_id":"SpecLedger-5lj.3","type":"parent-child","created_at":"2026-01-16T14:47:27.7036432+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.3.4","title":"Add Paste Transcript button and modal","description":"Add a 'Paste Transcript' button that opens a modal dialog with a textarea. Users can paste any text content (Zoom transcripts, meeting notes, etc.) and save it as a note for AI analysis.","design":"Implementation:\n1. Create PasteModal component with:\n   - Textarea for pasting content (minimum 100 chars to avoid accidental empty notes)\n   - Save button that creates a new note with the pasted content\n   - Cancel button\n   - Character counter\n   - Current language selector (from store)\n   \n2. Add PasteButton component (next to MicrophoneButton):\n   - Clipboard icon (lucide-react 'Clipboard' icon)\n   - Opens PasteModal on click\n   - Consistent styling with MicrophoneButton\n\n3. Integrate into page.tsx:\n   - Add PasteButton next to MicrophoneButton\n   - Show/hide modal state management\n   - Save pasted content as new note using store.addNote()\n\nState management:\n- const [showPasteModal, setShowPasteModal] = useState(false)\n- const [pastedContent, setPastedContent] = useState('')\n- On save: Create new note with pastedContent and currentLanguage\n\nReferences:\n- Existing MicrophoneButton component for styling patterns\n- Existing addNote() action in store","acceptance_criteria":"1. PasteModal component created with textarea, save/cancel buttons, character counter\n2. PasteButton created with clipboard icon, opens modal on click\n3. PasteButton integrated into page.tsx next to MicrophoneButton\n4. Pasted content saves as new note in store\n5. New note appears in sidebar and can be analyzed with AI\n6. Modal closes after successful save\n7. Validation: minimum 10 characters required\n8. TypeScript compiles without errors","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:54:55.8267579+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T17:00:59.1896059+07:00","closed_at":"2026-01-16T17:00:59.1896059+07:00","close_reason":"Completed - PasteModal component created with textarea, character counter, validation (min 10 chars). PasteButton created with clipboard icon. Both integrated into page.tsx. Pasted content saves as new note in store. Modal closes after save. TypeScript compiles successfully.","labels":["component:ui","phase:us1","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.3.4","depends_on_id":"SpecLedger-5lj.3","type":"parent-child","created_at":"2026-01-16T16:54:55.8311489+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.3.5","title":"Add Upload File button and handler","description":"Add an 'Upload File' button that accepts .txt and .md files. Users can upload transcript files from other sources (Zoom, Teams, etc.) and the content is saved as a note for AI analysis.","design":"Implementation:\n1. Create UploadButton component:\n   - FileUpload icon (lucide-react 'Upload' or 'FileUp' icon)\n   - Hidden file input: \u003cinput type='file' accept='.txt,.md' /\u003e\n   - Trigger file input click on button click\n   - Read file using FileReader API\n   - Create new note with file content\n\n2. File reading logic:\n   const handleFileUpload = (event: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n     const file = event.target.files?.[0]\n     if (!file) return\n     \n     const reader = new FileReader()\n     reader.onload = (e) =\u003e {\n       const content = e.target?.result as string\n       // Create new note with content\n       const newNote: Note = {\n         id: crypto.randomUUID(),\n         content: content.trim(),\n         createdAt: Date.now(),\n         language: currentLanguage\n       }\n       // Add to store\n     }\n     reader.readAsText(file)\n   }\n\n3. Integration into page.tsx:\n   - Add UploadButton next to MicrophoneButton and PasteButton\n   - Consistent styling with other buttons\n\nFile handling:\n- Accept: .txt, .md files\n- Max file size: 1MB (validation)\n- Strip leading/trailing whitespace\n- Use current language from store\n\nReferences:\n- FileReader API for reading text files\n- Existing MicrophoneButton for styling patterns\n- Existing addNote() logic (but we need direct note creation since addNote reads from currentSession)","acceptance_criteria":"1. UploadButton component created with file input and icon\n2. UploadButton integrated into page.tsx\n3. Accepts .txt and .md files\n4. File content read using FileReader API\n5. Uploaded content creates new note in store\n6. New note appears in sidebar and can be analyzed with AI\n7. File size validation (max 1MB)\n8. TypeScript compiles without errors","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:55:15.1088831+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T17:01:18.7713042+07:00","closed_at":"2026-01-16T17:01:18.7713042+07:00","close_reason":"Completed - UploadButton component created with FileUp icon, hidden file input, accepts .txt/.md files. FileReader reads file content, validates file size (max 1MB) and content (min 10 chars). Integrated into page.tsx. Uploaded content creates new note in store. TypeScript compiles successfully.","labels":["component:ui","phase:us1","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.3.5","depends_on_id":"SpecLedger-5lj.3","type":"parent-child","created_at":"2026-01-16T16:55:15.1127168+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.4","title":"User Story 2: Manage AI Analysis Results","description":"Implement persistence and management of AI analysis results: ensure analysis persists across browser refresh via Zustand persist middleware, add visual indicator in sidebar for notes with analysis, enable re-analysis when content changes, handle analysis deletion when note deleted. Analysis should be seamless and always available.","design":"Zustand persist middleware automatically handles persistence (configured in foundational task). Add visual indicator (badge or icon) in NoteSidebar for analyzed notes. Store already supports re-analysis via analyzeNote action. Delete functionality already removes note with analysis (cascading delete). No new components needed, integration work only.","acceptance_criteria":"Analysis results persist after browser refresh (verified by reopening app). Notes with analysis show visual indicator (different icon, badge, or checkmark). Re-analyzing note replaces previous analysis (overwrites, not appends). Deleting note removes analysis from LocalStorage. All persistence handled automatically by Zustand persist middleware.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T14:48:05.1712115+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:48:05.1712115+07:00","labels":["component:core","phase:us2","spec:002-ai-meeting-synthesis","story:US2"],"dependencies":[{"issue_id":"SpecLedger-5lj.4","depends_on_id":"SpecLedger-5lj","type":"parent-child","created_at":"2026-01-16T14:48:05.1736095+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.4.1","title":"Add visual indicator for analyzed notes","description":"Modify components/NoteSidebar.tsx to display visual indicator (badge, icon, or checkmark) on notes that have analysis. Use Sparkles icon or 'AI' badge next to note timestamp or title. Ensure indicator is visually distinct and accessible (aria-label). Update note card styling to highlight analyzed notes if desired (subtle background color or border).","design":"Check if note.analysis exists. If yes, render indicator. Options: (1) Small 'AI' badge next to timestamp: \u003cspan className='bg-purple-100 text-purple-700 text-xs px-2 py-0.5 rounded-full'\u003eAI\u003c/span\u003e, (2) Sparkles icon in different color, (3) Checkmark icon. Use aria-label='This note has AI analysis' for screen readers. Position in note metadata section (near timestamp/language).","acceptance_criteria":"Visual indicator appears on notes with analysis. Indicator distinct from other UI elements. Screen readers announce 'This note has AI analysis' when focused. Indicator positioned logically (near timestamp or note title). Styling consistent with Tailwind theme (purple colors for AI features). Indicator visible on both desktop and mobile.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T14:48:31.2902622+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:48:31.2902622+07:00","labels":["component:ui","fr:FR-017","spec:002-ai-meeting-synthesis","story:US2"],"dependencies":[{"issue_id":"SpecLedger-5lj.4.1","depends_on_id":"SpecLedger-5lj.4","type":"parent-child","created_at":"2026-01-16T14:48:31.2952709+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.4.2","title":"Add visual indicator for context-aware analysis in sidebar","description":"Add a visual indicator in NoteSidebar to distinguish notes that have context-aware analysis (with spec updates) from regular analysis.","design":"Update NoteSidebar component to show different visual indicators:\n\n1. Check if note.analysis.content contains '## Spec Updates' section\n2. If yes: Show enhanced indicator (e.g., purple sparkle icon '✨')\n3. If no: Show regular indicator (e.g., gray checkmark '✓')\n\nIndicator options:\n- Icon: Sparkles icon for context-aware, Checkmark for regular\n- Badge: 'Spec' badge next to note title\n- Border: Purple left border for notes with spec updates\n- Tooltip: 'Includes spec update suggestions'\n\nIMPLEMENTATION:\n1. Import Sparkles and Check icons from lucide-react\n2. Helper function: hasSpecUpdates(analysis: NoteAnalysis): boolean\n3. Check if analysis.content contains '## Spec Updates'\n4. Render appropriate icon in note card\n5. Add tooltip explaining the difference\n\nACCESSIBILITY:\n- ARIA label: 'Note with spec updates' vs 'Note with analysis'\n- Screen reader announcement of difference\n- Color not the only indicator (use icons + text)\n\nReferences:\n- specs/002-ai-meeting-synthesis/spec.md User Story 2 (visual indicators)\n- specs/002-ai-meeting-synthesis/contracts/AnalyzeButton.md (behavior specs)","acceptance_criteria":"1. NoteSidebar shows different icons for context-aware vs regular analysis\n2. Sparkles icon (✨) for notes with spec updates\n3. Checkmark (✓) for notes with regular analysis\n4. Tooltip explains difference when hovered\n5. ARIA labels distinguish between types\n6. Visual indicator works for both light and dark modes\n7. Icons are legible and color-blind friendly","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T15:42:07.6360679+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T15:42:07.6360679+07:00","labels":["component:ui","fr:FR-019","phase:us2","spec:002-ai-meeting-synthesis","story:US2"],"dependencies":[{"issue_id":"SpecLedger-5lj.4.2","depends_on_id":"SpecLedger-5lj.4","type":"parent-child","created_at":"2026-01-16T15:42:07.6424525+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.5","title":"User Story 3: Handle AI Service Errors","description":"Implement error handling for AI analysis: ErrorDisplay component for user-friendly error messages, handle API key missing errors, rate limit errors, transcript too long errors, service unavailable errors. All errors should be clear, actionable, and provide recovery guidance.","design":"Create ErrorDisplay component with variants: inline (compact, in context) and banner (full-page alert). Error messages: API key missing (setup instructions), rate limit (wait and retry), transcript too long (split content), service unavailable (try later). Component uses icons (AlertCircle, AlertTriangle, Key, Clock, FileText) and color coding (red, yellow, orange). Store manages analysisError state field.","acceptance_criteria":"ErrorDisplay component created with inline and banner variants. API key missing error shows setup instructions. Rate limit error shows wait time and retry button. Transcript too long error shows word count and suggestion to split. Service unavailable error shows friendly message. All errors have retry/dismiss buttons. Error state clears on successful analysis or manual dismiss.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T14:48:50.6529782+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:48:50.6529782+07:00","labels":["component:ui","phase:us3","spec:002-ai-meeting-synthesis","story:US3"],"dependencies":[{"issue_id":"SpecLedger-5lj.5","depends_on_id":"SpecLedger-5lj","type":"parent-child","created_at":"2026-01-16T14:48:50.6547979+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.5.1","title":"Create ErrorDisplay component","description":"Create components/ErrorDisplay.tsx with props: error, onRetry, onDismiss, variant. Supports inline (compact, red left border, gray bg) and banner (fixed top, red bg, white text) variants. Detect error type and show appropriate icon/message: API key missing (Key icon + setup link), rate limit (Clock icon + retry-after), service unavailable (AlertCircle), transcript too long (FileText icon + word count). Generic error (AlertTriangle) fallback.","design":"Conditional rendering: if \\!error return null. Error type detection via string matching (includes or regex). Inline variant: div with bg-red-50 border-l-4 border-red-500 p-4. Banner variant: fixed top-0 w-full bg-red-600 text-white p-4 z-50. Icons from lucide-react. Use role='alert' and aria-live='assertive' for screen readers.","acceptance_criteria":"components/ErrorDisplay.tsx created. Renders inline variant with red border and icon. Renders banner variant with full-width red background. Error messages are user-friendly and actionable. Retry button triggers onRetry callback. Dismiss button triggers onDismiss callback. Screen reader announces errors via role='alert'. Color contrast meets WCAG AA (4.5:1).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T14:49:12.8944766+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:49:12.8944766+07:00","labels":["component:ui","fr:FR-012","fr:FR-013","fr:FR-014","fr:FR-015","spec:002-ai-meeting-synthesis","story:US3"],"dependencies":[{"issue_id":"SpecLedger-5lj.5.1","depends_on_id":"SpecLedger-5lj.5","type":"parent-child","created_at":"2026-01-16T14:49:12.9297127+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.5.2","title":"Integrate error handling in UI components","description":"Integrate ErrorDisplay into NoteSidebar and/or main page layout to show analysis errors. Wire up store analysisError state to ErrorDisplay component. Add error clearing logic (dismiss button, auto-clear on retry). Ensure errors don't break core voice dictation functionality (graceful degradation).","design":"In NoteSidebar or analysis display area, check if analysisError from store is truthy. If yes, render \u003cErrorDisplay error={analysisError} onRetry={handleRetry} onDismiss={clearError} variant='inline' /\u003e. Add error clearing to analyzeNote callback (setAnalysisError(null) before calling API). Ensure voice dictation continues working even if AI errors occur.","acceptance_criteria":"ErrorDisplay appears when analysisError is set in store. Error shows correct message and type (API key, rate limit, etc.). Retry button re-triggers analysis after clearing error. Dismiss button clears analysisError state. Voice dictation features unaffected by AI errors. No console errors during error scenarios.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T14:49:33.060429+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:49:33.060429+07:00","labels":["component:ui","spec:002-ai-meeting-synthesis","story:US3"],"dependencies":[{"issue_id":"SpecLedger-5lj.5.2","depends_on_id":"SpecLedger-5lj.5","type":"parent-child","created_at":"2026-01-16T14:49:33.101734+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.6","title":"Polish Phase","description":"Cross-cutting improvements and polish: optimize performance (loading states, transitions), add concurrent analysis prevention, enhance accessibility (focus management, ARIA improvements), add analysis mode selector (US4 - optional if time permits), ensure responsive design on mobile, add keyboard shortcuts, improve error messages, code cleanup and documentation.","design":"Performance: Add smooth transitions for state changes, optimize Markdown rendering. Accessibility: Ensure tab order logical, add focus management for results, improve ARIA descriptions. Responsive: Test on mobile, ensure buttons large enough to tap. Keyboard: Add Escape to dismiss, Enter to retry, shortcuts. Code: Remove console.logs, add comments, ensure type safety.","acceptance_criteria":"All transitions smooth (fade-in, scale effects). Focus management works correctly (focus returns to trigger after dismiss). Keyboard navigation complete (Tab, Enter, Escape). Mobile responsive (buttons 44px min height, text readable). No console errors or warnings. Code follows Prettier formatting. TypeScript strict mode passes.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-16T14:49:54.372481+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:49:54.372481+07:00","labels":["component:ui","phase:polish","spec:002-ai-meeting-synthesis"],"dependencies":[{"issue_id":"SpecLedger-5lj.6","depends_on_id":"SpecLedger-5lj","type":"parent-child","created_at":"2026-01-16T14:49:54.3844787+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.6.1","title":"Add concurrent analysis prevention","description":"Implement concurrent analysis prevention in store and UI. Ensure only one note can be analyzed at a time. Prevent double-clicks on AnalyzeButton. Disable all AnalyzeButtons when any analysis is in progress. Show clear loading state across all notes during analysis.","design":"In useStore, analyzeNote action should check if isAnalyzing is true and throw error if so. Set isAnalyzing=true and analyzingNoteId=noteId before API call. In finally block, set isAnalyzing=false and analyzingNoteId=null. In AnalyzeButton, disabled={isAnalyzing || isAnalyzingThisNote || disabled}. Show loading state for all notes when any analysis in progress.","acceptance_criteria":"Concurrent analysis attempts throw error with clear message. Only one AnalyzeButton active at a time. All other buttons show disabled state when analysis in progress. Loading indicator shows on button being analyzed. Cannot trigger new analysis until current completes (success or failure). Race conditions handled by isAnalyzing flag.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T14:50:41.853402+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:50:41.853402+07:00","labels":["component:core","fr:FR-016","spec:002-ai-meeting-synthesis","story:US1"],"dependencies":[{"issue_id":"SpecLedger-5lj.6.1","depends_on_id":"SpecLedger-5lj.6","type":"parent-child","created_at":"2026-01-16T14:50:41.8551539+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.6.2","title":"Add accessibility enhancements","description":"Enhance accessibility beyond basic requirements: add focus management, improve ARIA descriptions, add keyboard shortcuts (Escape to dismiss, Enter to retry), ensure color contrast, add loading announcements, optimize for screen readers. Test with keyboard-only navigation and screen reader.","design":"Focus management: When analysis completes, focus on dismiss button or result. Keyboard shortcuts: Escape dismisses error/result, Enter retries analysis. ARIA: Add aria-describedby to link error messages with buttons. Add aria-live regions for loading state announcements. Contrast: Ensure all text meets 4.5:1 ratio (use color contrast checker). Test with NVDA/JAWS.","acceptance_criteria":"Focus moves logically through UI after actions. Keyboard shortcuts work (Escape dismisses, Enter retries). ARIA descriptions link errors with recovery actions. Loading states announced via aria-live or aria-busy. Color contrast passes WCAG AA checker. Screen reader announces all state changes and errors.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T14:50:58.6940759+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:50:58.6940759+07:00","labels":["component:ui","spec:002-ai-meeting-synthesis"],"dependencies":[{"issue_id":"SpecLedger-5lj.6.2","depends_on_id":"SpecLedger-5lj.6","type":"parent-child","created_at":"2026-01-16T14:50:58.6954222+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.6.3","title":"Add responsive design and mobile optimizations","description":"Ensure all AI components work on mobile devices. Optimize button sizes for touch targets (min 44px height). Test layout on small screens (sidebar stacking, button sizes). Ensure Markdown content readable on mobile. Optimize loading indicators for mobile screens. Test on actual mobile devices if possible.","design":"Tailwind responsive classes: Use mobile-first approach, add md: prefixes for desktop overrides. Ensure AnalyzeButton min-height 44px (Apple HIG). Test NoteSidebar on mobile (stacks vertically, full width). AnalysisResult should be scrollable on mobile (overflow-y-auto). Loading spinners visible on mobile. Text sizes at least 16px for readability.","acceptance_criteria":"All components render correctly on mobile (375px - 428px width). Buttons at least 44px high for touch targets. No horizontal scrolling on mobile. Sidebar stacks below main content or becomes full-width drawer. Markdown content readable without zooming. Loading indicators clearly visible. Touch targets have adequate spacing (8px+ gaps). Performance acceptable on mobile devices.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T14:51:17.4409975+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:51:17.4409975+07:00","labels":["component:ui","spec:002-ai-meeting-synthesis"],"dependencies":[{"issue_id":"SpecLedger-5lj.6.3","depends_on_id":"SpecLedger-5lj.6","type":"parent-child","created_at":"2026-01-16T14:51:17.4426324+07:00","created_by":"unknown"}]}
{"id":"SpecLedger-5lj.6.4","title":"Add performance optimizations and animations","description":"Optimize performance and add smooth transitions: add fade-in animation for analysis results, scale animations for buttons, optimize Markdown rendering performance, add loading skeleton states, debounce rapid button clicks, ensure smooth state transitions. Monitor performance metrics.","design":"CSS animations: Add @keyframes fade-in for analysis result appearance. Button hover: scale-105 with transition-all duration-200. Loading: Use CSS spin for loaders (GPU-accelerated). Debounce: Wrap onClick in useCallback with timeout 300ms to prevent double-clicks. Memoization: Memoize Markdown parsing in AnalysisResult. Use React.memo for components that re-render unnecessarily.","acceptance_criteria":"Analysis result fades in smoothly (300ms fade-in). Buttons scale on hover (smooth 200ms transition). No double-trigger from rapid clicks. Loading spinner smooth (no jank). Markdown rendering doesn't block main thread. Animations run at 60fps. No layout shifts during state changes. Performance budgets met: LCP \u003c2.5s, FID \u003c100ms, CLS \u003c0.1.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T14:52:02.3849268+07:00","created_by":"Ne4nf","updated_at":"2026-01-16T14:52:02.3849268+07:00","labels":["component:core","spec:002-ai-meeting-synthesis"],"dependencies":[{"issue_id":"SpecLedger-5lj.6.4","depends_on_id":"SpecLedger-5lj.6","type":"parent-child","created_at":"2026-01-16T14:52:02.3866272+07:00","created_by":"unknown"}]}
